apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

bases:
  - ../../base

namePrefix: staging-

replicas:
  - name: my-app
    count: 2

# Add staging-specific labels
commonLabels:
  environment: staging

# ConfigMap for staging environment
configMapGenerator:
  - name: my-app-config
    literals:
      - app_name=MyKustomizeApp
      - log_level=debug
      - environment=staging

secretGenerator:
  - name: my-app-secret
    literals:
      - username=admin
      - password=c3RhZ2luZ19wYXNzd29yZA==  # base64: staging_password